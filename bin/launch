#!/bin/bash

WORKSPACE=${1:?"need name for the workspace"}

shift 1

DOCKER_RUN_OPTS="$@"

docker run -it --name ${WORKSPACE} -u yihungjen \
    --net=host -e DISPLAY ${DOCKER_RUN_OPTS} \
    -v /tmp:/tmp \
    -v /etc/hostname:/etc/hostname \
    -v /etc/hosts:/etc/hosts \
    -v ${HOME}/.Xauthority:/home/yihungjen/.Xauthority \
    -v ${PWD}/go:/home/yihungjen/go \
    -v ${PWD}/node:/home/yihungjen/node \
    -v ${PWD}/workspace:/home/yihungjen/workspace \
    -v ${PWD}/.ssh:/home/yihungjen/.ssh \
    -v ${PWD}/.aws:/home/yihungjen/.aws \
    -v ${PWD}/.m2:/home/yihungjen/.m2 \
    -v ${PWD}/.gnupg:/home/yihungjen/.gnupg \
    jeffjen/workspace
